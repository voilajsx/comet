{"version":3,"file":"PopupTab-pAn5M9hW.js","sources":["../src/features/quote-generator/components/PopupTab.tsx"],"sourcesContent":["/**\n * Quote Generator Popup Tab - Simplified with Direct Imports\n * @module @voilajsx/comet\n * @file src/features/quote-generator/components/PopupTab.tsx\n */\n\nimport React, { useState, useEffect } from 'react';\nimport { TabsContent } from '@voilajsx/uikit/tabs';\nimport { Card, CardContent, CardHeader, CardTitle } from '@voilajsx/uikit/card';\nimport { Button } from '@voilajsx/uikit/button';\nimport { Alert, AlertDescription } from '@voilajsx/uikit/alert';\nimport { Separator } from '@voilajsx/uikit/separator';\nimport { Badge } from '@voilajsx/uikit/badge';\nimport { Quote, Loader2, CheckCircle, AlertCircle, RefreshCw } from 'lucide-react';\nimport { storage } from '@voilajsx/comet/storage';\n\n// ‚úÖ DIRECT IMPORTS - Simple and clean!\nimport { getQuote, getMotivationalQuote } from '../index.js';\n\n/**\n * Status alert component\n */\nfunction StatusAlert({ result, onDismiss }) {\n  React.useEffect(() => {\n    if (result && onDismiss) {\n      const timer = setTimeout(onDismiss, 2000);\n      return () => clearTimeout(timer);\n    }\n  }, [result, onDismiss]);\n\n  if (!result) return null;\n\n  const Icon = result.type === 'success' ? CheckCircle : AlertCircle;\n  const variant = result.type === 'success' ? 'default' : 'destructive';\n\n  return (\n    <Alert variant={variant}>\n      <Icon className=\"h-4 w-4\" />\n      <AlertDescription>{result.message}</AlertDescription>\n    </Alert>\n  );\n}\n\nexport default function QuoteGeneratorTab({ value }) {\n  const [isLoading, setIsLoading] = useState(false);\n  const [status, setStatus] = useState(null);\n  const [currentQuote, setCurrentQuote] = useState(null);\n  const [quoteType, setQuoteType] = useState('general');\n\n  // Load quote type setting\n  useEffect(() => {\n    storage.get('quoteGenerator.type', 'general').then(setQuoteType);\n  }, []);\n\n  const handleGetQuote = async () => {\n    console.log('[Quote PopupTab] üöÄ Getting quote, type:', quoteType);\n    \n    setIsLoading(true);\n    setStatus(null);\n\n    try {\n      // ‚úÖ DIRECT FUNCTION CALL - No complex messaging!\n      const quote = quoteType === 'motivational' \n        ? await getMotivationalQuote()\n        : await getQuote();\n\n      console.log('[Quote PopupTab] ‚úÖ Quote received:', quote);\n      \n      setCurrentQuote(quote);\n      setStatus({\n        type: 'success',\n        message: quote.source === 'api' ? 'Quote fetched!' : 'Offline quote'\n      });\n\n    } catch (error) {\n      console.error('[Quote PopupTab] ‚ùå Error:', error);\n      setStatus({\n        type: 'error',\n        message: 'Failed to get quote'\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const labels = {\n    general: { title: 'General Quote', desc: 'Wisdom and life advice' },\n    motivational: { title: 'Motivational Quote', desc: 'Inspiring messages' }\n  };\n\n  const current = labels[quoteType] || labels.general;\n\n  return (\n    <TabsContent value={value} className=\"mt-0\">\n      <Card>\n        <CardHeader className=\"pb-3\">\n          <CardTitle className=\"text-base flex items-center gap-2\">\n            <Quote className=\"w-4 h-4\" />\n            {current.title}\n          </CardTitle>\n          <p className=\"text-xs text-muted-foreground\">{current.desc}</p>\n        </CardHeader>\n        \n        <CardContent className=\"space-y-4\">\n          {/* Get Quote Button */}\n          <Button\n            onClick={handleGetQuote}\n            disabled={isLoading}\n            className=\"w-full\"\n          >\n            {isLoading ? (\n              <>\n                <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\n                Getting Quote...\n              </>\n            ) : (\n              <>\n                <RefreshCw className=\"w-4 h-4 mr-2\" />\n                Get New Quote\n              </>\n            )}\n          </Button>\n\n          {/* Status */}\n          <StatusAlert \n            result={status} \n            onDismiss={() => setStatus(null)} \n          />\n\n          {/* Quote Display */}\n          {currentQuote && (\n            <div className=\"space-y-3\">\n              <Separator />\n              \n              <div className=\"bg-muted/50 p-4 rounded border\">\n                <div className=\"text-sm italic mb-3 leading-relaxed\">\n                  \"{currentQuote.text}\"\n                </div>\n                \n                <div className=\"flex items-center justify-between text-xs text-muted-foreground\">\n                  <span>‚Äî {currentQuote.author}</span>\n                  <div className=\"flex gap-2\">\n                    <Badge variant=\"outline\" className=\"text-xs\">\n                      {currentQuote.category}\n                    </Badge>\n                    <Badge \n                      variant={currentQuote.source === 'api' ? 'default' : 'secondary'} \n                      className=\"text-xs\"\n                    >\n                      {currentQuote.source === 'api' ? 'Live' : 'Offline'}\n                    </Badge>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Helper text */}\n          <p className=\"text-center text-xs text-muted-foreground\">\n            Change quote type in settings\n          </p>\n        </CardContent>\n      </Card>\n    </TabsContent>\n  );\n}"],"names":["StatusAlert","result","onDismiss","React","timer","Icon","CheckCircle","AlertCircle","variant","jsxs","Alert","jsx","AlertDescription","QuoteGeneratorTab","value","isLoading","setIsLoading","useState","status","setStatus","currentQuote","setCurrentQuote","quoteType","setQuoteType","useEffect","storage","handleGetQuote","quote","getMotivationalQuote","getQuote","error","labels","current","TabsContent","Card","CardHeader","CardTitle","Quote","CardContent","Button","Fragment","Loader2","RefreshCw","Separator","Badge"],"mappings":"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"}