import{r as o}from"./index-Bo8_xHZ6.js";import{s as u}from"./storage-CVg25cfU.js";import{c as g}from"./api-D1xaP6EM.js";function Q(){const[t,a]=o.useState(null),[r,n]=o.useState({quoteType:"general"}),[h,s]=o.useState(!1);o.useEffect(()=>{d()},[]);const d=async()=>{try{const e=await u.get("quoteGenerator.type","general");n({quoteType:e})}catch(e){console.error("Failed to load settings:",e)}};return{currentQuote:t,settings:r,loading:h,getQuote:async()=>{s(!0);try{let e;return r.quoteType==="motivational"?e=await f():e=await l(),a(e),{success:!0,data:e}}catch(e){return{success:!1,error:e.message}}finally{s(!1)}},updateSetting:async(e,i)=>{n(y=>({...y,[e]:i})),await u.set(`quoteGenerator.${e==="quoteType"?"type":e}`,i)}}}async function l(){try{const t=await g.get("https://api.adviceslip.com/advice");if(t.ok&&t.data?.slip?.advice)return{text:t.data.slip.advice,author:"Anonymous",category:"advice",source:"api",timestamp:Date.now()};throw new Error("API failed")}catch{return m()}}async function f(){try{const t=await l();return t.source==="api"?(t.category="motivational",t):c()}catch{return c()}}function m(){const t=[{text:"The only way to do great work is to love what you do.",author:"Steve Jobs"},{text:"Life is what happens while you're busy making other plans.",author:"John Lennon"},{text:"The future belongs to those who believe in their dreams.",author:"Eleanor Roosevelt"},{text:"Be yourself; everyone else is already taken.",author:"Oscar Wilde"},{text:"In the middle of difficulty lies opportunity.",author:"Albert Einstein"}];return{...t[Math.floor(Math.random()*t.length)],category:"wisdom",source:"fallback",timestamp:Date.now()}}function c(){const t=[{text:"Success is not final, failure is not fatal: it is the courage to continue that counts.",author:"Winston Churchill"},{text:"The only impossible journey is the one you never begin.",author:"Tony Robbins"},{text:"Don't watch the clock; do what it does. Keep going.",author:"Sam Levenson"},{text:"Believe you can and you're halfway there.",author:"Theodore Roosevelt"},{text:"The way to get started is to quit talking and begin doing.",author:"Walt Disney"}];return{...t[Math.floor(Math.random()*t.length)],category:"motivational",source:"fallback",timestamp:Date.now()}}export{Q as u};
//# sourceMappingURL=useQuoteGenerator-DzQzjZuj.js.map
