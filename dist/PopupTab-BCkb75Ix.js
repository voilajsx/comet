import{f as h,r as l,j as e,Q as y,B as j,S as N,m as b,R as v}from"./index-D2A6gC7_.js";import{c as Q}from"./tabs-CXYrrsGC.js";import{C,a as w,c as T,b as q}from"./card-D9441TAi.js";import{L as k,A as L,a as G}from"./alert-1Jfry0-x.js";import{B as u}from"./badge-BZf-k47R.js";import{s as R}from"./storage-BLOHu4CK.js";import{C as S,a as M}from"./circle-check-big-DPBiI3z-.js";/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],B=h("refresh-cw",A);function E({result:s,onDismiss:o,autoDismiss:c=!0,autoDismissDelay:i=2e3}){if(v.useEffect(()=>{if(s&&c&&o){const n=setTimeout(o,i);return()=>clearTimeout(n)}},[s,c,i,o]),!s)return null;const a=s.type==="success"?S:M,r=s.type==="success"?"default":"destructive",d=s.type==="success"?"text-green-500":"text-destructive";return e.jsxs(L,{variant:r,className:"border-border",children:[e.jsx(a,{className:`h-4 w-4 ${d}`}),e.jsx(G,{className:"text-sm pt-1",children:s.message})]})}function $({value:s}){const[o,c]=l.useState(!1),[i,a]=l.useState(null),[r,d]=l.useState(null),[n,m]=l.useState("general");l.useEffect(()=>{x()},[]);const x=async()=>{try{const t=await R.get("quoteGenerator.type","general");m(t)}catch(t){console.error("[Quote Generator] Failed to load quote type:",t)}},f=async()=>{c(!0),a(null);try{const t=await b.sendToContent({type:n==="motivational"?"getMotivationalQuote":"getQuote",data:{}});t?.success&&t?.data?.success?(d(t.data.quote),a({type:"success",message:"Quote fetched successfully!"})):t?.data?.fallbackQuote?(d(t.data.fallbackQuote),a({type:"success",message:"Showing offline quote"})):a({type:"error",message:"Failed to get quote"})}catch{a({type:"error",message:"Could not fetch quote"})}finally{c(!1)}},p=()=>n==="motivational"?"Motivational Quote":"General Quote",g=()=>n==="motivational"?"Inspiring and uplifting messages":"Wisdom and life advice";return e.jsx(Q,{value:s,className:"mt-0",children:e.jsxs(C,{className:"bg-card border-border",children:[e.jsxs(w,{className:"pb-3",children:[e.jsxs(T,{className:"text-base text-card-foreground flex items-center gap-2",children:[e.jsx(y,{className:"w-4 h-4"}),p()]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:g()})]}),e.jsxs(q,{className:"space-y-4",children:[e.jsx(j,{onClick:f,disabled:o,className:"w-full",variant:"default",children:o?e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"h-4 w-4 mr-2 animate-spin"}),"Getting Quote..."]}):e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"w-4 h-4 mr-2"}),"Get New Quote"]})}),e.jsx(E,{result:i,onDismiss:()=>a(null),autoDismiss:!0,autoDismissDelay:2e3}),r&&e.jsxs("div",{className:"space-y-3",children:[e.jsx(N,{className:"bg-border"}),e.jsxs("div",{className:"bg-muted/50 p-4 rounded border border-border",children:[e.jsxs("div",{className:"text-sm italic mb-3 text-card-foreground leading-relaxed",children:['"',r.text,'"']}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsxs("span",{children:["â€” ",r.author]}),e.jsxs("div",{className:"flex items-center gap-2",children:[r.category&&e.jsx(u,{variant:"outline",className:"text-xs",children:r.category}),r.source==="fallback"&&e.jsx(u,{variant:"secondary",className:"text-xs",children:"Offline"})]})]})]})]}),e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-xs text-muted-foreground",children:"Change quote type in settings"})})]})]})})}export{$ as default};
//# sourceMappingURL=PopupTab-BCkb75Ix.js.map
