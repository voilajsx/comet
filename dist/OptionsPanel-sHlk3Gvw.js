import{r as n,j as e,Q as p}from"./index-BkgtWSli.js";import{C as f,a as y,c as v,b as j}from"./card-DLJBgNU_.js";import{L as w}from"./label-B-WC4hBT.js";import{S as b,a as Q,b as S,c as q,d as c}from"./options.js";import{s as u}from"./storage-CVg25cfU.js";import{c as T}from"./api-u9XC6Ash.js";import"./circle-check-big-Cpwb0EuN.js";import"./rotate-ccw-BaqPeqfE.js";function C(){const[t,a]=n.useState(null),[s,r]=n.useState({quoteType:"general"}),[m,i]=n.useState(!1);n.useEffect(()=>{g()},[]);const g=async()=>{try{const o=await u.get("quoteGenerator.type","general");r({quoteType:o})}catch(o){console.error("Failed to load settings:",o)}};return{currentQuote:t,settings:s,loading:m,getQuote:async()=>{i(!0);try{let o;return s.quoteType==="motivational"?o=await N():o=await h(),a(o),{success:!0,data:o}}catch(o){return{success:!1,error:o.message}}finally{i(!1)}},updateSetting:async(o,l)=>{r(x=>({...x,[o]:l})),await u.set(`quoteGenerator.${o==="quoteType"?"type":o}`,l)}}}async function h(){try{const t=await T.get("https://api.adviceslip.com/advice");if(t.ok&&t.data?.data?.slip?.advice)return{text:t.data.data.slip.advice,author:"Anonymous",category:"advice",source:"api",timestamp:Date.now()};throw new Error("API failed")}catch{return k()}}async function N(){try{const t=await h();return t.source==="api"?(t.category="motivational",t):d()}catch{return d()}}function k(){const t=[{text:"The only way to do great work is to love what you do.",author:"Steve Jobs"},{text:"Life is what happens while you're busy making other plans.",author:"John Lennon"},{text:"The future belongs to those who believe in their dreams.",author:"Eleanor Roosevelt"},{text:"Be yourself; everyone else is already taken.",author:"Oscar Wilde"},{text:"In the middle of difficulty lies opportunity.",author:"Albert Einstein"}];return{...t[Math.floor(Math.random()*t.length)],category:"wisdom",source:"fallback",timestamp:Date.now()}}function d(){const t=[{text:"Success is not final, failure is not fatal: it is the courage to continue that counts.",author:"Winston Churchill"},{text:"The only impossible journey is the one you never begin.",author:"Tony Robbins"},{text:"Don't watch the clock; do what it does. Keep going.",author:"Sam Levenson"},{text:"Believe you can and you're halfway there.",author:"Theodore Roosevelt"},{text:"The way to get started is to quit talking and begin doing.",author:"Walt Disney"}];return{...t[Math.floor(Math.random()*t.length)],category:"motivational",source:"fallback",timestamp:Date.now()}}function W(){const{settings:t,updateSetting:a}=C(),s=r=>{a("quoteType",r)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Quote Generator Settings"}),e.jsx("p",{className:"text-muted-foreground",children:"Choose your preferred quote type"})]}),e.jsxs(f,{children:[e.jsx(y,{children:e.jsxs(v,{className:"flex items-center gap-2",children:[e.jsx(p,{className:"w-5 h-5"}),"Quote Settings"]})}),e.jsxs(j,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(w,{htmlFor:"quote-type-select",className:"text-sm font-medium",children:"Quote Category"}),e.jsx("div",{class:"pt-2",children:e.jsxs(b,{value:t.quoteType,onValueChange:s,children:[e.jsx(Q,{id:"quote-type-select",children:e.jsx(S,{})}),e.jsxs(q,{children:[e.jsx(c,{value:"general",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"General Quotes"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Wisdom and life advice"})]})}),e.jsx(c,{value:"motivational",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Motivational Quotes"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Inspiring and uplifting messages"})]})})]})]})})]}),e.jsxs("div",{className:"text-xs text-muted-foreground bg-muted/50 p-3 rounded",children:[e.jsx("strong",{children:"API Demo:"})," Uses external API with offline fallback when network fails."]})]})]})]})}export{W as default};
//# sourceMappingURL=OptionsPanel-sHlk3Gvw.js.map
