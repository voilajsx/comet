{"version":3,"file":"PopupTab-meVG8sKz.js","sources":["../node_modules/@voilajsx/uikit/dist/alert.js","../src/features/page-analyzer/components/PopupTab.tsx"],"sourcesContent":["import { jsx } from \"react/jsx-runtime\";\nimport { forwardRef } from \"react\";\nimport { cva } from \"class-variance-authority\";\nimport { cn } from \"./utils.js\";\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border  px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7\",\n  {\n    variants: {\n      variant: {\n        default: \" bg-background text-foreground\",\n        destructive: \"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive\"\n      }\n    },\n    defaultVariants: {\n      variant: \"default\"\n    }\n  }\n);\nconst Alert = forwardRef(({ className, variant, ...props }, ref) => /* @__PURE__ */ jsx(\n  \"div\",\n  {\n    ref,\n    role: \"alert\",\n    className: cn(alertVariants({ variant }), className),\n    ...props\n  }\n));\nAlert.displayName = \"Alert\";\nconst AlertTitle = forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ jsx(\n  \"h5\",\n  {\n    ref,\n    className: cn(\"mb-1 font-medium leading-none tracking-tight\", className),\n    ...props\n  }\n));\nAlertTitle.displayName = \"AlertTitle\";\nconst AlertDescription = forwardRef(({ className, ...props }, ref) => /* @__PURE__ */ jsx(\n  \"div\",\n  {\n    ref,\n    className: cn(\"text-sm [&_p]:leading-relaxed\", className),\n    ...props\n  }\n));\nAlertDescription.displayName = \"AlertDescription\";\nexport {\n  Alert,\n  AlertDescription,\n  AlertTitle\n};\n//# sourceMappingURL=alert.js.map\n","/**\n * Page Analyzer Popup Tab - Simple Demo\n * @module @voilajsx/comet\n * @file src/features/page-analyzer/components/PopupTab.tsx\n */\n\nimport React, { useState } from 'react';\nimport { TabsContent } from '@voilajsx/uikit/tabs';\nimport { Card, CardContent, CardHeader, CardTitle } from '@voilajsx/uikit/card';\nimport { Button } from '@voilajsx/uikit/button';\nimport { Alert, AlertDescription } from '@voilajsx/uikit/alert';\nimport { Separator } from '@voilajsx/uikit/separator';\nimport { Badge } from '@voilajsx/uikit/badge';\nimport { \n  FileText, \n  Shield, \n  Loader2, \n  CheckCircle, \n  AlertCircle,\n  BarChart3,\n  Globe\n} from 'lucide-react';\nimport { messaging } from '@voilajsx/comet/messaging';\nimport { usePageAnalyzer } from '../hooks/usePageAnalyzer';\n\nexport default function PageAnalyzerTab({ value, currentTab }) {\n  const {\n    pageData,\n    validationResult,\n    settings,\n    analyzePageSize,\n    validateHTML,\n    loading\n  } = usePageAnalyzer();\n\n  const [feedback, setFeedback] = useState(null);\n  const canAnalyze = messaging.isTabSupported(currentTab);\n\n  const handleAnalyze = async () => {\n    if (!canAnalyze) {\n      setFeedback({ type: 'error', message: 'Not available on this page' });\n      return;\n    }\n\n    const result = await analyzePageSize();\n    \n    if (result.success) {\n      setFeedback({ type: 'success', message: 'Analysis complete!' });\n      \n      if (settings.autoValidate) {\n        setTimeout(() => handleValidate(), 1000);\n      }\n    } else {\n      setFeedback({ type: 'error', message: result.error });\n    }\n    \n    setTimeout(() => setFeedback(null), 3000);\n  };\n\n  const handleValidate = async () => {\n    if (!canAnalyze) {\n      setFeedback({ type: 'error', message: 'Not available on this page' });\n      return;\n    }\n\n    const result = await validateHTML();\n    \n    if (result.success) {\n      const errors = result.data.errors;\n      setFeedback({ \n        type: errors === 0 ? 'success' : 'warning',\n        message: errors === 0 ? 'Valid HTML!' : `${errors} errors found`\n      });\n    } else {\n      setFeedback({ type: 'error', message: result.error });\n    }\n    \n    setTimeout(() => setFeedback(null), 3000);\n  };\n\n  return (\n    <TabsContent value={value} className=\"mt-0\">\n      <Card>\n        <CardHeader className=\"pb-4\">\n          <CardTitle className=\"text-base flex items-center gap-2\">\n            <FileText className=\"w-4 h-4\" />\n            Page Analysis & Validation\n          </CardTitle>\n        </CardHeader>\n        \n        <CardContent className=\"space-y-4\">\n          \n          {/* Action Buttons */}\n          <div className=\"space-y-2\">\n            <Button\n              onClick={handleAnalyze}\n              disabled={loading.analyze || !canAnalyze}\n              className=\"w-full\"\n            >\n              {loading.analyze ? (\n                <>\n                  <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\n                  Analyzing...\n                </>\n              ) : (\n                <>\n                  <BarChart3 className=\"h-4 w-4 mr-2\" />\n                  Analyze Page Size\n                </>\n              )}\n            </Button>\n\n            <Button\n              onClick={handleValidate}\n              disabled={loading.validate || !canAnalyze}\n              variant=\"outline\"\n              className=\"w-full\"\n            >\n              {loading.validate ? (\n                <>\n                  <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\n                  Validating...\n                </>\n              ) : (\n                <>\n                  <Shield className=\"h-4 w-4 mr-2\" />\n                  Validate HTML\n                </>\n              )}\n            </Button>\n          </div>\n\n          {/* Feedback */}\n          {feedback && (\n            <Alert variant={feedback.type === 'success' ? 'default' : 'destructive'}>\n              {feedback.type === 'success' ? (\n                <CheckCircle className=\"h-4 w-4\" />\n              ) : (\n                <AlertCircle className=\"h-4 w-4\" />\n              )}\n              <AlertDescription class=\"pt-1\">{feedback.message}</AlertDescription>\n            </Alert>\n          )}\n\n          {/* Results - Simple rows */}\n          {(pageData || validationResult) && (\n            <div className=\"space-y-3\">\n              <Separator />\n              \n              {/* Page Size Result */}\n              {pageData && (\n                <div className=\"flex items-center justify-between p-3 bg-muted/50 rounded\">\n                  <div className=\"flex items-center gap-2\">\n                    <BarChart3 className=\"w-4 h-4 text-blue-600\" />\n                    <span className=\"text-sm\">{pageData.domain}</span>\n                  </div>\n                  <Badge variant=\"secondary\">{pageData.size}</Badge>\n                </div>\n              )}\n\n              {/* Validation Result */}\n              {validationResult && (\n                <div className=\"flex items-center justify-between p-3 bg-muted/50 rounded\">\n                  <div className=\"flex items-center gap-2\">\n                    <Shield className=\"w-4 h-4 text-green-600\" />\n                    <span className=\"text-sm\">{validationResult.domain}</span>\n                  </div>\n                  <Badge variant={validationResult.isValid ? 'default' : 'destructive'}>\n                    {validationResult.isValid ? 'Valid' : `${validationResult.errors} errors`}\n                  </Badge>\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* Not supported message */}\n          {!canAnalyze && (\n            <div className=\"text-center py-4 text-muted-foreground\">\n              <Globe className=\"w-6 h-6 mx-auto mb-2\" />\n              <div className=\"text-sm\">Not available on this page type</div>\n            </div>\n          )}\n\n        </CardContent>\n      </Card>\n    </TabsContent>\n  );\n}"],"names":["alertVariants","cva","Alert","forwardRef","className","variant","props","ref","jsx","cn","AlertTitle","AlertDescription","PageAnalyzerTab","value","currentTab","pageData","validationResult","settings","analyzePageSize","validateHTML","loading","usePageAnalyzer","feedback","setFeedback","useState","canAnalyze","messaging","handleAnalyze","result","handleValidate","errors","TabsContent","Card","CardHeader","jsxs","CardTitle","FileText","CardContent","Button","Fragment","Loader2","BarChart3","Shield","CheckCircle","AlertCircle","Separator","Badge","Globe"],"mappings":"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","x_google_ignoreList":[0]}