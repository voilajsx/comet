import{c as T,r as d,m as C,j as e,T as A,C as P,a as q,b as F,F as L,d as Q,B as y,S as z,A as M,e as G,f as E,g as I,Q as R,h as B,i as S,X as $,E as O,k as H,l as V,n as K,o as D,p as W,q as X}from"./TabNavigation-DdD2RSlV.js";import{s as h}from"./storage-CjHHMo7h.js";/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],U=T("chart-column",J);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],_=T("loader-circle",Y);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ee=T("refresh-cw",Z);/**
 * @license lucide-react v0.516.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],te=T("triangle-alert",se);function ae({result:s,onDismiss:o,autoDismiss:r=!0,autoDismissDelay:c=3e3}){if(d.useEffect(()=>{if(s&&r&&o){const l=setTimeout(o,c);return()=>clearTimeout(l)}},[s,r,c,o]),!s)return null;const n=()=>{switch(s.type){case"success":return{icon:I,variant:"default",iconColor:"text-green-500"};case"error":return{icon:E,variant:"destructive",iconColor:"text-destructive"};default:return{icon:E,variant:"default",iconColor:"text-muted-foreground"}}},{icon:t,variant:a,iconColor:i}=n();return e.jsxs(M,{variant:a,className:"border-border",children:[e.jsx(t,{className:`h-4 w-4 ${i}`}),e.jsx(G,{className:"text-sm pt-1",children:s.message})]})}function re({value:s,currentTab:o}){const[r,c]=d.useState(!1),[n,t]=d.useState(null),[a,i]=d.useState(null),l=C.isTabSupported(o),g=async()=>{if(l){c(!0),t(null);try{const m=await C.sendToContent({type:"getPageSize",data:{}});m?.success?(i(m.data),t({type:"success",message:"Page size analyzed successfully!"})):t({type:"error",message:m?.error||"Analysis failed"})}catch{t({type:"error",message:"Could not analyze page size"})}finally{c(!1)}}};return e.jsx(A,{value:s,className:"mt-0",children:e.jsxs(P,{className:"bg-card border-border",children:[e.jsx(q,{className:"pb-3",children:e.jsxs(F,{className:"text-base text-card-foreground flex items-center gap-2",children:[e.jsx(L,{className:"w-4 h-4"}),"Page Size Analysis"]})}),e.jsxs(Q,{className:"space-y-4",children:[e.jsx(y,{onClick:g,disabled:!l||r,className:"w-full",variant:l?"default":"secondary",children:r?e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"h-4 w-4 mr-2 animate-spin"}),"Analyzing Page Size..."]}):e.jsxs(e.Fragment,{children:[e.jsx(U,{className:"w-4 h-4 mr-2"}),"Get Page Size"]})}),e.jsx(ae,{result:n,onDismiss:()=>t(null),autoDismiss:!0,autoDismissDelay:3e3}),a&&e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx(z,{className:"bg-border"}),e.jsx("div",{className:"bg-muted/50 p-3 rounded",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-lg font-bold text-primary",children:a.formatted}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Page Size"})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"text-center p-2 bg-card border border-border rounded",children:[e.jsxs("div",{className:"font-medium text-card-foreground",children:[Math.round(a.htmlBytes/1024)," KB"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"HTML Size"})]}),e.jsxs("div",{className:"text-center p-2 bg-card border border-border rounded",children:[e.jsxs("div",{className:"font-medium text-card-foreground",children:[Math.round(a.textBytes/1024)," KB"]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Text Content"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"text-center p-2 bg-card border border-border rounded",children:[e.jsx("div",{className:"font-medium text-card-foreground",children:a.images}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Images"})]}),e.jsxs("div",{className:"text-center p-2 bg-card border border-border rounded",children:[e.jsx("div",{className:"font-medium text-card-foreground",children:a.links}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Links"})]})]})]}),!l&&e.jsxs("div",{className:"text-center text-sm text-muted-foreground py-2",children:[e.jsx(te,{className:"w-4 h-4 mx-auto mb-1"}),"Page size analysis not available on this page type"]})]})]})})}function ne({result:s,onDismiss:o,autoDismiss:r=!0,autoDismissDelay:c=3e3}){if(d.useEffect(()=>{if(s&&r&&o){const i=setTimeout(o,c);return()=>clearTimeout(i)}},[s,r,c,o]),!s)return null;const n=s.type==="success"?I:E,t=s.type==="success"?"default":"destructive",a=s.type==="success"?"text-green-500":"text-destructive";return e.jsxs(M,{variant:t,className:"border-border",children:[e.jsx(n,{className:`h-4 w-4 ${a}`}),e.jsx(G,{className:"text-sm pt-1",children:s.message})]})}function ce({value:s}){const[o,r]=d.useState(!1),[c,n]=d.useState(null),[t,a]=d.useState(null),i=async()=>{r(!0),n(null);try{const l=await C.sendToContent({type:"getQuote",data:{}});l?.success&&l?.data?.success?(a(l.data.quote),n({type:"success",message:"Quote fetched successfully!"})):l?.data?.fallbackQuote?(a(l.data.fallbackQuote),n({type:"success",message:"Showing offline quote"})):n({type:"error",message:"Failed to get quote"})}catch{n({type:"error",message:"Could not fetch quote"})}finally{r(!1)}};return e.jsx(A,{value:s,className:"mt-0",children:e.jsxs(P,{className:"bg-card border-border",children:[e.jsx(q,{className:"pb-3",children:e.jsxs(F,{className:"text-base text-card-foreground flex items-center gap-2",children:[e.jsx(R,{className:"w-4 h-4"}),"Inspirational Quotes"]})}),e.jsxs(Q,{className:"space-y-4",children:[e.jsx(y,{onClick:i,disabled:o,className:"w-full",variant:"default",children:o?e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"h-4 w-4 mr-2 animate-spin"}),"Getting Quote..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ee,{className:"w-4 h-4 mr-2"}),"Get New Quote"]})}),e.jsx(ne,{result:c,onDismiss:()=>n(null),autoDismiss:!0,autoDismissDelay:2e3}),t&&e.jsxs("div",{className:"space-y-3",children:[e.jsx(z,{className:"bg-border"}),e.jsxs("div",{className:"bg-muted/50 p-4 rounded border border-border",children:[e.jsxs("div",{className:"text-sm italic mb-3 text-card-foreground leading-relaxed",children:['"',t.text,'"']}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsxs("span",{children:["â€” ",t.author]}),t.source==="fallback"&&e.jsx("span",{className:"bg-muted px-2 py-1 rounded text-xs",children:"Offline"})]})]})]}),e.jsx("div",{className:"text-center",children:e.jsx("p",{className:"text-xs text-muted-foreground",children:"Fresh inspiration with every click"})})]})]})})}/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=B("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);function le({variant:s="default",size:o="md",title:r,subtitle:c,logo:n,badge:t,headerActions:a,showBack:i=!1,showClose:l=!1,showDivider:g=!0,onBack:m,onClose:v,footer:f,scrollable:p=!0,className:u,children:k,...b}){const j={sm:"w-72 max-h-80",md:"w-80 max-h-96",lg:"w-96 max-h-[32rem]",auto:"min-w-72 max-w-lg max-h-[80vh]"},w={default:"bg-background border-border shadow-lg",compact:"bg-card border-border shadow-md",mini:"bg-popover border-border shadow-sm"},x={default:"p-4",compact:"p-3",mini:"p-2"},N=r||c||n||t||a||i||l;return e.jsxs("div",{className:S("flex flex-col border rounded-lg overflow-hidden",j[o],w[s],u),...b,children:[N&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:S("flex items-center gap-3",x[s]),children:[i&&e.jsx(y,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 shrink-0",onClick:m,children:e.jsx(oe,{className:"h-4 w-4"})}),n&&e.jsx("div",{className:"shrink-0",children:n}),e.jsxs("div",{className:"flex-1 min-w-0",children:[r&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h1",{className:"text-sm font-semibold text-foreground truncate",children:r}),t&&t]}),c&&e.jsx("p",{className:"text-xs text-muted-foreground truncate mt-0.5",children:c})]}),a&&e.jsx("div",{className:"shrink-0 flex items-center gap-1",children:a}),l&&e.jsx(y,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 shrink-0",onClick:v,children:e.jsx($,{className:"h-4 w-4"})})]}),g&&e.jsx(z,{})]}),e.jsx("div",{className:S("flex-1",p&&"overflow-y-auto overflow-x-hidden",!N&&x[s],N&&s==="default"&&"p-4",N&&s==="compact"&&"p-3",N&&s==="mini"&&"p-2"),children:k}),f&&e.jsxs(e.Fragment,{children:[e.jsx(z,{}),e.jsx("div",{className:x[s],children:f})]})]})}function de({logo:s,title:o,subtitle:r,headerActions:c,tabs:n,defaultTab:t,onTabChange:a,footerContent:i,size:l="lg",variant:g="default",className:m=""}){return e.jsxs(le,{variant:g,size:l,className:m,footer:i,children:[e.jsx(O,{logo:s,actions:c,className:"p-4 border-b border-border mb-4"}),e.jsx(H,{tabs:n,defaultTab:t,onTabChange:a})]})}function ie(){const[s,o]=d.useState("analyzer"),[r,c]=d.useState(!0),[n,t]=d.useState(null),[a,i]=d.useState({pageAnalyzerEnabled:!0,quoteGeneratorEnabled:!0});d.useEffect(()=>{l()},[]);const l=async()=>{try{const u=await C.getActiveTab();t(u);const k=await h.get("extensionEnabled"),b=await h.get("pageAnalyzerEnabled"),j=await h.get("quoteGeneratorEnabled");c(k),i({pageAnalyzerEnabled:b,quoteGeneratorEnabled:j});const w=await h.get("popup.activeTab");let x=null;w==="analyzer"&&b?x="analyzer":w==="quotes"&&j?x="quotes":b?x="analyzer":j&&(x="quotes"),x&&o(x)}catch(u){console.error("Failed to initialize popup:",u)}},g=()=>{chrome.runtime.openOptionsPage()},m=async u=>{c(u),await h.set("extensionEnabled",u)},v=e.jsx(K,{name:"CometOne",size:"md"}),f=e.jsxs("div",{className:"flex items-center gap-2 ",children:[e.jsx(y,{variant:"ghost",size:"sm",onClick:g,className:"h-6 w-6 p-0",children:e.jsx(D,{className:"h-4 w-4"})}),e.jsx(W,{checked:r,onCheckedChange:m})]}),p=[];return a.pageAnalyzerEnabled&&p.push({id:"analyzer",label:"Analyzer",icon:L,content:e.jsx(re,{value:"analyzer",currentTab:n})}),a.quoteGeneratorEnabled&&p.push({id:"quotes",label:"Quotes",icon:R,content:e.jsx(ce,{value:"quotes"})}),!r||p.length===0?e.jsxs("div",{className:"w-80 bg-background text-foreground",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[v,f]}),e.jsx("div",{className:"p-8 text-center text-muted-foreground",children:r?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm",children:"No features enabled"}),e.jsx("p",{className:"text-xs mt-1",children:"Enable features in settings"})]}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-sm",children:"Extension is disabled"}),e.jsx("p",{className:"text-xs mt-1",children:"Toggle above to enable"})]})})]}):e.jsx(de,{logo:v,title:"CometOne",headerActions:f,tabs:p,defaultTab:s,onTabChange:u=>{o(u),h.set("popup.activeTab",u)},size:"lg",variant:"default"})}function ue(){const[s,o]=d.useState("metro"),[r,c]=d.useState("light");d.useEffect(()=>{n()},[]);const n=async()=>{try{const t=await h.get("app.theme"),a=await h.get("app.variant");t&&o(t),a&&c(a)}catch(t){console.error("Failed to load theme:",t)}};return e.jsx(V,{theme:s,variant:r,detectSystem:!1,children:e.jsx(ie,{})})}const me=X.createRoot(document.getElementById("root"));me.render(e.jsx(ue,{}));
//# sourceMappingURL=popup.js.map
